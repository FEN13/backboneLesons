<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Bacbone First</title>
    <script src="../../Scripts/jquery-1.9.1.min.js"></script>
    <script src="../../Scripts/underscore.min.js"></script>
    <script src="../../Scripts/backbone.min.js"></script>
    <script src="../../Scripts/bootstrap.min.js"></script>

    <!--<script src="../app.js"></script>-->
    <link rel="stylesheet" href="../../Content/bootstrap.min.css" />
    <script></script>
</head>
<body>
    <div class="container">
        <h1>User Manager</h1>
        <hr />
        <div class="page-content">
        </div>
        <script type="text/template" id="user-list-template">
            <a href="#/new" class="btn btn-primary">New User</a>
            <hr />
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th column="Fname"><a href="#">First Name</a></th>
                        <th column="LName"><a href="#">Last Name</a></th>
                        <th column="Age"><a href="#">Age</a></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <% _.each(users, function(user){ %>
                    <tr>
                        <td><%=user.get('fname')%></td>
                        <td><%=user.get('lName')%></td>
                        <td><%=user.get('age')%></td>
                        <td><a href="#/edit/<%= user.id %>" class="btn btn-default">Edit</a>&nbsp <button class="btn btn-danger delete" userId="<%= user.id %>">Delete</button></td>
                    </tr>
                    <%})%>
                </tbody>
            </table>
        </script>
        <script type="text/template" id="edit-user-template">
            <form class="edit-user-form" style="width:40%">
                <legend><%= user ? 'Update': 'Create'%> user</legend>
                <label>First Name</label>
                <input type="text" name="fname" class="form-control" value="<%= user ? user.get('fname'): ''%>"/>
                <label>Last Name</label>
                <input type="text" name="lName" class="form-control" value="<%= user ? user.get('lName'): ''%>"/>
                <label>Age</label>
                <input type="text" name="age" class="form-control" value="<%= user ? user.get('age'): ''%>"/>
                <hr/>
                <% if(user){%>
                    <input type="hidden" name="id" value="<%= user.id %>" />
                <button type="button" class="btn btn-danger delete">Delete</button>
                <%};%>
                <a href="#/" class="btn btn-default">Back</a>
                <input type="submit" class="btn btn-primary" value="Save"/>
            </form>
        </script>
    </div>
    <script src="../models/users-model.js"></script>
    <script src="../viewmodels/user-list.js"></script>
    <script src="../router.js"></script>
</body>
</html>
